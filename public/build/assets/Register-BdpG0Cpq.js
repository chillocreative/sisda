import{u as w,r as m,j as e,H as y,L as C}from"./app-BqnD3oe6.js";import{I as d}from"./InputError-V-9CZhq1.js";import{I as n}from"./InputLabel-D6rkbtnz.js";import{P as F}from"./PrimaryButton-DEiwQIAM.js";import{T as o}from"./TextInput-Dn063Zzi.js";import{G as P}from"./GuestLayout-CQXPf-oF.js";import{c as S}from"./createLucideIcon-D1CyyKJE.js";const D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K=S("info",D);function T({negeriList:p=[],bandarList:h=[],kadunList:f=[]}){const{data:s,setData:t,post:b,processing:u,errors:r,reset:g}=w({name:"",telephone:"",email:"",password:"",password_confirmation:"",role:"user",negeri_id:"",bandar_id:"",kadun_id:""}),[j,c]=m.useState([]),[v,x]=m.useState([]);m.useEffect(()=>{if(s.negeri_id){const a=h.filter(i=>i.negeri_id==s.negeri_id);c(a),s.bandar_id&&(a.some(l=>l.id==s.bandar_id)||t(l=>({...l,bandar_id:"",kadun_id:""})))}else c([]),t(a=>({...a,bandar_id:"",kadun_id:""}))},[s.negeri_id]),m.useEffect(()=>{if(s.bandar_id){const a=f.filter(i=>i.bandar_id==s.bandar_id);x(a),s.kadun_id&&(a.some(l=>l.id==s.kadun_id)||t(l=>({...l,kadun_id:""})))}else x([]),t(a=>({...a,kadun_id:""}))},[s.bandar_id]);const N=a=>{t("name",a.target.value.toUpperCase())},_=a=>{const l=a.target.value.replace(/\D/g,"");t("telephone",l)},k=a=>{a.preventDefault(),b(route("register"),{onFinish:()=>g("password","password_confirmation")})};return e.jsxs(P,{children:[e.jsx(y,{title:"Daftar"}),e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Cipta Akaun"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Masukkan butiran anda untuk bermula."})]}),e.jsxs("div",{className:"mb-6 p-4 bg-sky-50 border border-sky-200 rounded-lg flex items-start space-x-3",children:[e.jsx(K,{className:"h-5 w-5 text-sky-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-sky-800",children:[e.jsx("p",{className:"font-medium",children:"Proses Kelulusan Diperlukan"}),e.jsx("p",{className:"mt-1",children:"Akaun anda akan menunggu kelulusan daripada pentadbir sebelum anda boleh log masuk."})]})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"Nama",className:"text-slate-700"}),e.jsx(o,{id:"name",name:"name",value:s.name,className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg uppercase",autoComplete:"name",isFocused:!0,onChange:N,required:!0}),e.jsx(d,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"telephone",value:"Nombor Telefon",className:"text-slate-700"}),e.jsx(o,{id:"telephone",type:"tel",name:"telephone",value:s.telephone,className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg",autoComplete:"tel",onChange:_,placeholder:"0123456789",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Hanya angka sahaja"}),e.jsx(d,{message:r.telephone,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",value:"Emel (Pilihan)",className:"text-slate-700"}),e.jsx(o,{id:"email",type:"email",name:"email",value:s.email,className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg",autoComplete:"username",onChange:a=>t("email",a.target.value)}),e.jsx(d,{message:r.email,className:"mt-2"})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Kawasan Anda"}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"negeri_id",value:"Negeri",className:"text-slate-700"}),e.jsxs("select",{id:"negeri_id",value:s.negeri_id,onChange:a=>t("negeri_id",a.target.value),className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg shadow-sm",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Negeri"}),p.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]}),e.jsx(d,{message:r.negeri_id,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"bandar_id",value:"Bandar / Parlimen",className:"text-slate-700"}),e.jsxs("select",{id:"bandar_id",value:s.bandar_id,onChange:a=>t("bandar_id",a.target.value),className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg shadow-sm",required:!0,disabled:!s.negeri_id,children:[e.jsx("option",{value:"",children:"Pilih Bandar / Parlimen"}),j.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]}),e.jsx(d,{message:r.bandar_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"kadun_id",value:"KADUN",className:"text-slate-700"}),e.jsxs("select",{id:"kadun_id",value:s.kadun_id,onChange:a=>t("kadun_id",a.target.value),className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg shadow-sm",required:!0,disabled:!s.bandar_id,children:[e.jsx("option",{value:"",children:"Pilih KADUN"}),v.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]}),e.jsx(d,{message:r.kadun_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx(n,{htmlFor:"password",value:"Kata Laluan",className:"text-slate-700"}),e.jsx(o,{id:"password",type:"password",name:"password",value:s.password,className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg",autoComplete:"new-password",onChange:a=>t("password",a.target.value),required:!0}),e.jsx(d,{message:r.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"password_confirmation",value:"Sahkan Kata Laluan",className:"text-slate-700"}),e.jsx(o,{id:"password_confirmation",type:"password",name:"password_confirmation",value:s.password_confirmation,className:"mt-1 block w-full border-slate-300 focus:border-slate-400 focus:ring-slate-400 rounded-lg",autoComplete:"new-password",onChange:a=>t("password_confirmation",a.target.value),required:!0}),e.jsx(d,{message:r.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{className:"pt-6 flex items-center justify-between",children:[e.jsx(C,{href:route("login"),className:"text-sm text-slate-600 hover:text-slate-900 underline decoration-slate-300 underline-offset-4",children:"Sudah mendaftar?"}),e.jsx(F,{className:"ms-4 bg-slate-900 hover:bg-slate-800 focus:bg-slate-800 active:bg-slate-900 rounded-lg px-6",disabled:u,children:u?"Mendaftar...":"Daftar"})]})]})]})}export{T as default};

import{r,j as e,H as S}from"./app-DyTk69QV.js";import{A as P,U as M,M as T,F as A,C}from"./AuthenticatedLayout-GG3KfQKz.js";import{c as d}from"./createLucideIcon-DKkFK6u9.js";import{P as I}from"./phone-CBl2vAiq.js";import{S as g,M as $,F as _}from"./smile-XDr3O3IS.js";import{M as L}from"./message-square-Bkf7ClBs.js";import{S as B}from"./save-30pLyw21.js";import{T as D}from"./triangle-alert-CHnnDbMM.js";const F=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],H=d("history",F);const U=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],E=d("mic",U);const K=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],R=d("pause",K);const J=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],O=d("phone-off",J);function q({locality:h}){const[l,m]=r.useState("idle"),[f,u]=r.useState(0),[o,c]=r.useState(null),[i,j]=r.useState({}),[N,v]=r.useState(""),[w,p]=r.useState("tersimpan");r.useEffect(()=>{let s;return l==="connected"?s=setInterval(()=>{u(t=>t+1)},1e3):(u(0),clearInterval(s)),()=>clearInterval(s)},[l]);const y=s=>{const t=Math.floor(s/60),a=s%60;return`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},n={name:"Abdullah Bin Ibrahim",age:"45-50",phone:"012-3456789",location:"Bayan Lepas, Pulau Pinang",district:"DUN N.38 Bayan Lepas",previousInteractions:[{date:"2025-11-20",type:"Panggilan",result:"Berminat",notes:"Mahu maklumat lanjut tentang bantuan pendidikan."},{date:"2025-10-15",type:"SMS",result:"Diterima",notes:"Hebahan program masyarakat."}]},x=(s,t)=>{j(a=>({...a,[s]:t})),p("menyimpan..."),setTimeout(()=>p("tersimpan"),1e3)},b=[{id:"q1",text:"Adakah anda bercadang untuk mengundi pada PRU akan datang?",type:"radio",options:["Ya","Tidak","Belum Pasti"],required:!0},{id:"q2",text:"Apakah isu utama yang menghantui penduduk kawasan ini?",type:"select",options:["Kos Sara Hidup","Keselamatan","Infrastruktur","Peluang Kerja"],required:!0},{id:"q3",text:"Tahap kepuasan anda terhadap wakil rakyat semasa?",type:"scale",required:!1},{id:"q4",text:"Adakah anda mahu menerima risalah digital melalui WhatsApp?",type:"radio",options:["Sertai","Tolak"],required:!1}],k=s=>s.required&&!i[s.id];return e.jsxs(P,{children:[e.jsx(S,{title:"Dashboard Ejen - Pusat Panggilan"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-[calc(100vh-160px)]",children:[e.jsxs("div",{className:"w-full lg:w-1/4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:e.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-blue-600"}),"Maklumat Pengundi"]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Nama Penuh"}),e.jsx("p",{className:"text-slate-900 font-semibold",children:n.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Julat Umur"}),e.jsxs("p",{className:"text-sm text-slate-900",children:[n.age," Tahun"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"No. Tel"}),e.jsx("p",{className:"text-sm text-slate-900",children:n.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Lokasi"}),e.jsxs("p",{className:"text-sm text-slate-900 flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3 text-slate-400"}),n.location]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Kawasan Mengundi"}),e.jsx("p",{className:"text-sm text-slate-900",children:h?.is_restricted?h.kadun:n.district})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:e.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-emerald-600"}),"Interaksi Terdahulu"]})}),e.jsx("div",{className:"p-5",children:e.jsx("div",{className:"space-y-4",children:n.previousInteractions.map((s,t)=>e.jsxs("div",{className:"border-l-2 border-emerald-500 pl-4 py-1",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-900",children:[s.date," - ",s.type]}),e.jsxs("p",{className:"text-xs text-slate-600 italic",children:['"',s.notes,'"']})]},t))})})]})]}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8 text-center space-y-6 relative overflow-hidden",children:[l==="connected"&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-500 animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${l==="connected"?"bg-emerald-500 animate-ping":"bg-slate-300"}`}),l==="idle"?"Sedia":l==="calling"?"Dail...":"Dalam Talian"]}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter tabular-nums",children:y(f)})]}),e.jsx("div",{className:"flex items-center justify-center gap-4",children:l==="idle"?e.jsx("button",{onClick:()=>m("connected"),className:"h-16 w-16 rounded-full bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-200 hover:bg-emerald-600 transition-all hover:scale-105 active:scale-95",children:e.jsx(I,{className:"h-7 w-7"})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"h-12 w-12 rounded-full border border-slate-200 text-slate-600 flex items-center justify-center hover:bg-slate-50 transition-colors",children:e.jsx(R,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>m("idle"),className:"h-16 w-16 rounded-full bg-rose-500 text-white flex items-center justify-center shadow-lg shadow-rose-200 hover:bg-rose-600 transition-all hover:scale-105 active:scale-95",children:e.jsx(O,{className:"h-7 w-7"})}),e.jsx("button",{className:"h-12 w-12 rounded-full border border-slate-200 text-slate-600 flex items-center justify-center hover:bg-slate-50 transition-colors",children:e.jsx(E,{className:"h-5 w-5"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 text-amber-500"}),"Sentimen Panggilan"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>c("positive"),className:`flex-1 py-3 px-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${o==="positive"?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-white border-slate-100 text-slate-400 hover:bg-slate-50"}`,children:[e.jsx(g,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold",children:"Positif"})]}),e.jsxs("button",{onClick:()=>c("neutral"),className:`flex-1 py-3 px-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${o==="neutral"?"bg-amber-50 border-amber-500 text-amber-700":"bg-white border-slate-100 text-slate-400 hover:bg-slate-50"}`,children:[e.jsx($,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold",children:"Neutral"})]}),e.jsxs("button",{onClick:()=>c("negative"),className:`flex-1 py-3 px-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${o==="negative"?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-slate-100 text-slate-400 hover:bg-slate-50"}`,children:[e.jsx(_,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs font-bold",children:"Negatif"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-blue-500"}),"Nota Panggilan"]}),e.jsx("textarea",{value:N,onChange:s=>v(s.target.value),placeholder:"Tulis nota penting di sini...",className:"w-full h-32 rounded-xl border-slate-200 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/3 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-slate-900 text-white flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-blue-400"}),"Skrip Panggilan"]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/10 px-2 py-1 rounded text-white/70",children:[e.jsx(B,{className:"h-3 w-3"}),w]})]}),e.jsx("div",{className:"flex-1 p-6 space-y-8 overflow-y-auto",children:b.map((s,t)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"h-6 w-6 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-xs font-bold shrink-0",children:t+1}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("p",{className:"text-sm font-bold text-slate-900 leading-tight",children:[s.text,s.required&&e.jsx("span",{className:"text-rose-500 ml-1 font-black",children:"*"})]}),s.type==="radio"&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.options.map(a=>e.jsx("button",{onClick:()=>x(s.id,a),className:`px-4 py-2 rounded-lg border text-xs font-bold transition-all ${i[s.id]===a?"bg-blue-600 border-blue-600 text-white shadow-md shadow-blue-100":"bg-white border-slate-200 text-slate-600 hover:border-blue-300"}`,children:a},a))}),s.type==="select"&&e.jsxs("select",{value:i[s.id]||"",onChange:a=>x(s.id,a.target.value),className:"w-full text-sm rounded-lg border-slate-200 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Sila Pilih..."}),s.options.map(a=>e.jsx("option",{value:a,children:a},a))]}),s.type==="scale"&&e.jsx("div",{className:"flex justify-between gap-1",children:[1,2,3,4,5].map(a=>e.jsx("button",{onClick:()=>x(s.id,a),className:`h-10 w-full rounded-lg border text-xs font-bold transition-all ${i[s.id]===a?"bg-blue-600 border-blue-600 text-white":"bg-white border-slate-200 text-slate-600"}`,children:a},a))}),k(s)&&e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-rose-500 font-bold uppercase animate-pulse",children:[e.jsx(D,{className:"h-3 w-3"}),"Sila isi soalan ini"]})]})]}),t<b.length-1&&e.jsx("div",{className:"border-b border-slate-100"})]},s.id))}),e.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50",children:[e.jsxs("button",{className:"w-full py-4 bg-slate-900 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-blue-600 transition-all shadow-lg shadow-blue-100 mb-2 group",children:["Simpan Rekod",e.jsx(C,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-[10px] text-center text-slate-400",children:"Pastikan semua soalan bertanda * diisi sebelum simpan."})]})]})})]})]})}export{q as default};

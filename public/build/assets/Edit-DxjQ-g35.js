import{r as i,u as xe,j as e,H as pe,d}from"./app-B2oWfsIg.js";import{A as he,i as ge,X as be}from"./AuthenticatedLayout-DKBr3Dsa.js";import{A as fe}from"./arrow-left-CcFwPiux.js";import{L as je}from"./loader-circle-CbZSixwq.js";import{I as T}from"./image-B98M0vQt.js";import"./createLucideIcon-DO_NnYHa.js";import"./phone-BtrsRlbF.js";function Ke({hasilCulaan:r,bangsaList:H,negeriList:J,bandarList:ke,kadunList:Ne,daerahMengundiList:ve,jenisSumbanganList:z,tujuanSumbanganList:G,bantuanLainList:Y,keahlianPartiList:W,kecenderunganPolitikList:X,lokalitiList:g}){const[$,b]=i.useState(0),[m,M]=i.useState(!1),[S,D]=i.useState(r.kad_pengenalan?`/storage/${r.kad_pengenalan}`:null),[K,E]=i.useState(null),[Q,f]=i.useState([]),[V,L]=i.useState(!1),[Z,j]=i.useState([]),[ee,I]=i.useState(!1),[q,k]=i.useState([]),[ae,C]=i.useState(!1),[se,N]=i.useState([]),[te,U]=i.useState(!1),[R,u]=i.useState([]),[le,x]=i.useState(!1),v=i.useRef(null),_=i.useRef(null),{data:s,setData:n,post:ne,processing:F,errors:t}=xe({_method:"PUT",nama:r.nama||"",no_ic:r.no_ic||"",umur:r.umur||"",no_tel:r.no_tel||"",bangsa:r.bangsa||"",alamat:r.alamat||"",poskod:r.poskod||"",negeri:r.negeri||"",bandar:r.bandar||"",parlimen:r.parlimen||"",kadun:r.kadun||"",mpkk:r.mpkk||"",daerah_mengundi:r.daerah_mengundi||"",lokaliti:r.lokaliti||"",bil_isi_rumah:r.bil_isi_rumah||"",pendapatan_isi_rumah:r.pendapatan_isi_rumah||"",pekerjaan:r.pekerjaan||"",pemilik_rumah:r.pemilik_rumah||"",jenis_sumbangan:r.jenis_sumbangan||"",tujuan_sumbangan:r.tujuan_sumbangan||"",bantuan_lain:r.bantuan_lain||"",keahlian_parti:r.keahlian_parti||"",kecenderungan_politik:r.kecenderungan_politik||"",kad_pengenalan:null,nota:r.nota||""});i.useEffect(()=>{(async()=>{if(!s.negeri){f([]);return}L(!0);try{const l=await d.get(route("api.parlimen.by-negeri"),{params:{negeri:s.negeri}});f(l.data)}catch(l){console.error("Error fetching Parlimen:",l),f([])}finally{L(!1)}})()},[s.negeri]),i.useEffect(()=>{(async()=>{if(!s.parlimen){j([]);return}I(!0);try{const l=await d.get(route("api.kadun.by-bandar"),{params:{bandar:s.parlimen}});j(l.data)}catch(l){console.error("Error fetching KADUN:",l),j([])}finally{I(!1)}})()},[s.parlimen]),i.useEffect(()=>{(async()=>{if(!s.kadun){N([]);return}U(!0);try{const l=await d.get(route("api.mpkk.by-kadun"),{params:{kadun:s.kadun}});N(l.data)}catch(l){console.error("Error fetching MPKK:",l),N([])}finally{U(!1)}})()},[s.kadun]),i.useEffect(()=>{(async()=>{if(!s.parlimen){k([]);return}C(!0);try{const l=await d.get(route("api.daerah-mengundi.by-bandar"),{params:{bandar:s.parlimen}});k(l.data)}catch(l){console.error("Error fetching Daerah Mengundi:",l),k([])}finally{C(!1)}})()},[s.parlimen]),i.useEffect(()=>{(async()=>{if(s.poskod.length===5)try{const l=await d.get(route("api.postcodes.search-details"),{params:{query:s.poskod}});if(l.data&&l.data.length>0){const o=l.data[0];n({...s,negeri:o.negeri_nama||"",bandar:o.city||"",parlimen:o.bandar_nama||""})}}catch(l){console.error("Error fetching postcode details:",l)}})()},[s.poskod]),i.useEffect(()=>{const a=l=>{_.current&&!_.current.contains(l.target)&&x(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const y=a=>a?a.toLowerCase().replace(/\b\w/g,l=>l.toUpperCase()):"",re=a=>{n({...s,no_ic:a.no_ic,nama:a.nama||s.nama,lokaliti:a.lokaliti||s.lokaliti,daerah_mengundi:a.daerah_mengundi||s.daerah_mengundi,kadun:a.kadun?y(a.kadun):s.kadun,parlimen:a.parlimen?y(a.parlimen):s.parlimen,negeri:a.negeri?y(a.negeri):s.negeri,bangsa:a.bangsa||s.bangsa}),x(!1),u([])},ie=a=>{const l=a.target.value.replace(/\D/g,"");l.length<=5&&n("poskod",l)},oe=a=>{const o=a.target.value.replace(/\D/g,"");if(o.length>12)return;if(n("no_ic",o),v.current&&clearTimeout(v.current),o.length>=3?v.current=setTimeout(()=>{d.get(route("api.voter.suggest-ic"),{params:{ic:o}}).then(B=>{u(B.data||[]),x((B.data||[]).length>0)}).catch(()=>u([]))},300):(u([]),x(!1)),o.length<6){n("umur","");return}const c=o.substring(0,2),p=o.substring(2,4),me=o.substring(4,6),ue=parseInt(c)<=25?2e3+parseInt(c):1900+parseInt(c),w=new Date(ue,parseInt(p)-1,parseInt(me)),P=new Date;let h=P.getFullYear()-w.getFullYear();const A=P.getMonth()-w.getMonth();(A<0||A===0&&P.getDate()<w.getDate())&&h--,h>=0&&h<=150&&n("umur",h.toString())},O=a=>{const l=a.target.files[0];if(!l)return;if(!l.type.startsWith("image/")){alert("Sila pilih fail imej sahaja");return}if(l.size>5*1024*1024){alert("Saiz fail terlalu besar. Maksimum 5MB");return}const o=new FileReader;o.onloadend=()=>{D(o.result)},o.readAsDataURL(l),M(!0),b(0);const c=setInterval(()=>{b(p=>p>=100?(clearInterval(c),M(!1),n("kad_pengenalan",l),E(l),100):p+10)},100)},de=()=>{n("kad_pengenalan",null),D(null),b(0),E(null)},ce=a=>{a.preventDefault(),ne(route("reports.hasil-culaan.update",r.id))};return e.jsxs(he,{children:[e.jsx(pe,{title:"Edit Hasil Culaan"}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(fe,{className:"h-5 w-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Edit Hasil Culaan"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Kemaskini maklumat yang diperlukan"})]})]}),e.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Peribadi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Nama ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.nama,onChange:a=>n("nama",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.nama&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.nama})]}),e.jsxs("div",{ref:_,className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["No. IC ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.no_ic,onChange:oe,placeholder:"000000000000",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.no_ic&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.no_ic}),le&&R.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:R.map(a=>e.jsxs("button",{type:"button",onClick:()=>re(a),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-0",children:[e.jsx("span",{className:"font-mono text-sm font-medium text-slate-900",children:a.no_ic}),e.jsx("span",{className:"ml-2 text-sm text-slate-500",children:a.nama})]},a.no_ic))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Umur ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"number",value:s.umur,onChange:a=>n("umur",a.target.value),min:"1",max:"150",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.umur&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.umur})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["No. Telefon ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"tel",value:s.no_tel,onChange:a=>n("no_tel",a.target.value),placeholder:"0123456789",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.no_tel&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.no_tel})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Bangsa ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.bangsa,onChange:a=>n("bangsa",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Bangsa"}),H.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.bangsa&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.bangsa})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Alamat"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Alamat ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("textarea",{value:s.alamat,onChange:a=>n("alamat",a.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.alamat&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.alamat})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Poskod ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.poskod,onChange:ie,placeholder:"00000",maxLength:"5",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.poskod&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.poskod})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Negeri ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.negeri,onChange:a=>n("negeri",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Negeri"}),J.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.negeri&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.negeri})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Bandar ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.bandar,readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400 bg-slate-50",placeholder:"Pilih Poskod terlebih dahulu"}),t.bandar&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.bandar})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Parlimen ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.parlimen,onChange:a=>n("parlimen",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:V?"Memuat...":"Pilih Parlimen"}),Q.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.parlimen&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.parlimen})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["KADUN ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.kadun,onChange:a=>n("kadun",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:ee?"Memuat...":"Pilih KADUN"}),Z.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.kadun&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.kadun})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["MPKK ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.mpkk,onChange:a=>n("mpkk",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:te?"Memuat...":"Pilih MPKK"}),se.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.mpkk&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.mpkk})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Daerah Mengundi ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.daerah_mengundi,onChange:a=>n("daerah_mengundi",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:ae?"Memuat...":"Pilih Daerah Mengundi"}),s.daerah_mengundi&&!q.some(a=>a.nama===s.daerah_mengundi)&&e.jsx("option",{value:s.daerah_mengundi,children:s.daerah_mengundi}),q.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.daerah_mengundi&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.daerah_mengundi})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Lokaliti"}),e.jsxs("select",{value:s.lokaliti,onChange:a=>n("lokaliti",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Lokaliti"}),s.lokaliti&&!(g||[]).some(a=>a.nama===s.lokaliti)&&e.jsx("option",{value:s.lokaliti,children:s.lokaliti}),g&&g.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.lokaliti&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.lokaliti})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Isi Rumah"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Bilangan Isi Rumah ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"number",value:s.bil_isi_rumah,onChange:a=>n("bil_isi_rumah",a.target.value),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.bil_isi_rumah&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.bil_isi_rumah})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pendapatan Isi Rumah (RM)"}),e.jsx("input",{type:"number",value:s.pendapatan_isi_rumah,onChange:a=>n("pendapatan_isi_rumah",a.target.value),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),t.pendapatan_isi_rumah&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.pendapatan_isi_rumah})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Pekerjaan ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.pekerjaan,onChange:a=>n("pekerjaan",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),t.pekerjaan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.pekerjaan})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Pemilik Rumah ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.pemilik_rumah,onChange:a=>n("pemilik_rumah",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Status"}),e.jsx("option",{value:"Sendiri",children:"Sendiri"}),e.jsx("option",{value:"Sewa",children:"Sewa"}),e.jsx("option",{value:"Keluarga",children:"Keluarga"}),e.jsx("option",{value:"Lain-lain",children:"Lain-lain"})]}),t.pemilik_rumah&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.pemilik_rumah})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Bantuan & Politik"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Jenis Sumbangan"}),e.jsxs("select",{value:s.jenis_sumbangan,onChange:a=>n("jenis_sumbangan",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Jenis Sumbangan"}),z.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.jenis_sumbangan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.jenis_sumbangan})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tujuan Sumbangan"}),e.jsxs("select",{value:s.tujuan_sumbangan,onChange:a=>n("tujuan_sumbangan",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Tujuan Sumbangan"}),G.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.tujuan_sumbangan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.tujuan_sumbangan})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Bantuan Lain"}),e.jsxs("select",{value:s.bantuan_lain,onChange:a=>n("bantuan_lain",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Bantuan Lain"}),Y.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.bantuan_lain&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.bantuan_lain})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Keahlian Parti"}),e.jsxs("select",{value:s.keahlian_parti,onChange:a=>n("keahlian_parti",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Keahlian Parti"}),W.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.keahlian_parti&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.keahlian_parti})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Kecenderungan Politik"}),e.jsxs("select",{value:s.kecenderungan_politik,onChange:a=>n("kecenderungan_politik",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Kecenderungan Politik"}),X.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),t.kecenderungan_politik&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.kecenderungan_politik})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Dokumen & Nota"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Kad Pengenalan"}),S?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-full h-48 bg-slate-100 rounded-lg overflow-hidden",children:[e.jsx("img",{src:S,alt:"Preview Kad Pengenalan",className:"w-full h-full object-contain",onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/600x400?text=Imej+Tidak+Dijumpai",a.target.className="w-full h-full object-contain opacity-50"}}),m&&e.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center",children:[e.jsx(je,{className:"h-8 w-8 text-white animate-spin mb-2"}),e.jsxs("span",{className:"text-white text-sm font-medium",children:[$,"%"]})]})]}),!m&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:de,className:"absolute top-2 right-2 p-1.5 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-colors",children:e.jsx(be,{className:"h-4 w-4"})}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[K?e.jsxs("p",{className:"text-sm text-slate-600 flex items-center",children:[e.jsx(T,{className:"h-4 w-4 mr-1"}),K.name]}):e.jsxs("p",{className:"text-sm text-slate-600 flex items-center",children:[e.jsx(T,{className:"h-4 w-4 mr-1"}),"Imej sedia ada"]}),e.jsx("label",{htmlFor:"kad-pengenalan-upload",className:"text-sm text-sky-600 hover:text-sky-700 cursor-pointer underline",children:"Tukar imej"}),e.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden",id:"kad-pengenalan-upload",disabled:m})]})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden",id:"kad-pengenalan-upload",disabled:m}),e.jsxs("label",{htmlFor:"kad-pengenalan-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-slate-400 hover:bg-slate-50 transition-colors",children:[e.jsx(ge,{className:"h-8 w-8 text-slate-400 mb-2"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Klik untuk muat naik imej"}),e.jsx("span",{className:"text-xs text-slate-500 mt-1",children:"PNG, JPG, JPEG (Maks. 5MB)"})]})]}),t.kad_pengenalan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.kad_pengenalan})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nota"}),e.jsx("textarea",{value:s.nota,onChange:a=>n("nota",a.target.value),rows:"4",placeholder:"Catatan tambahan...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),t.nota&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:t.nota})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pb-6",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Batal"}),e.jsx("button",{type:"submit",disabled:F,className:"px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:F?"Mengemaskini...":"Kemaskini"})]})]})]})]})}export{Ke as default};

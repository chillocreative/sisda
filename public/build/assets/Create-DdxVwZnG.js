import{r as i,u as me,j as e,H as xe,d as c}from"./app-C8L35A9G.js";import{A as he,i as pe,X as ge}from"./AuthenticatedLayout-gk1dVH84.js";import{A as be}from"./arrow-left-B-apiZgx.js";import{L as je}from"./loader-circle-DRNS4hFT.js";import{I as fe}from"./image-BXfyGm8d.js";import"./createLucideIcon-BSSamaw5.js";import"./phone-D0IL8Q85.js";function Se({bangsaList:q,negeriList:R,bandarList:ke,kadunList:Ne,daerahMengundiList:ve,jenisSumbanganList:J,tujuanSumbanganList:W,bantuanLainList:z,keahlianPartiList:F,kecenderunganPolitikList:G,lokalitiList:h}){const[H,p]=i.useState(0),[g,B]=i.useState(!1),[C,K]=i.useState(null),[Y,b]=i.useState([]),[Z,S]=i.useState(!1),[V,j]=i.useState([]),[X,M]=i.useState(!1),[E,f]=i.useState([]),[Q,D]=i.useState(!1),[$,k]=i.useState([]),[ee,U]=i.useState(!1),[L,u]=i.useState([]),[ae,m]=i.useState(!1),N=i.useRef(null),v=i.useRef(null),{data:s,setData:l,post:se,processing:O,errors:n}=me({nama:"",no_ic:"",umur:"",no_tel:"",bangsa:"",alamat:"",poskod:"",negeri:"",bandar:"",parlimen:"",kadun:"",mpkk:"",daerah_mengundi:"",lokaliti:"",bil_isi_rumah:"",pendapatan_isi_rumah:"",pekerjaan:"",jenis_pekerjaan:"",jenis_pekerjaan_lain:"",pemilik_rumah:"",jenis_sumbangan:[],jenis_sumbangan_lain:"",tujuan_sumbangan:[],tujuan_sumbangan_lain:"",bantuan_lain:[],bantuan_lain_lain:"",zpp_jenis_bantuan:"",isejahtera_program:"",bkb_program:"",jumlah_bantuan_tunai:"",jumlah_wang_tunai:"",keahlian_parti:"",kecenderungan_politik:"",kad_pengenalan:null,nota:""});i.useEffect(()=>{(async()=>{if(!s.negeri){b([]);return}S(!0);try{const t=await c.get(route("api.parlimen.by-negeri"),{params:{negeri:s.negeri}});b(t.data)}catch(t){console.error("Error fetching Parlimen:",t),b([])}finally{S(!1)}})()},[s.negeri]),i.useEffect(()=>{(async()=>{if(!s.parlimen){j([]);return}M(!0);try{const t=await c.get(route("api.kadun.by-bandar"),{params:{bandar:s.parlimen}});j(t.data)}catch(t){console.error("Error fetching KADUN:",t),j([])}finally{M(!1)}})()},[s.parlimen]),i.useEffect(()=>{(async()=>{if(!s.kadun){k([]);return}U(!0);try{const t=await c.get(route("api.mpkk.by-kadun"),{params:{kadun:s.kadun}});k(t.data)}catch(t){console.error("Error fetching MPKK:",t),k([])}finally{U(!1)}})()},[s.kadun]),i.useEffect(()=>{(async()=>{if(!s.parlimen){f([]);return}D(!0);try{const t=await c.get(route("api.daerah-mengundi.by-bandar"),{params:{bandar:s.parlimen}});f(t.data)}catch(t){console.error("Error fetching Daerah Mengundi:",t),f([])}finally{D(!1)}})()},[s.parlimen]);const ne=a=>{const t=a.target.files[0];if(!t)return;if(!t.type.startsWith("image/")){alert("Sila pilih fail imej sahaja");return}if(t.size>5*1024*1024){alert("Saiz fail terlalu besar. Maksimum 5MB");return}const r=new FileReader;r.onloadend=()=>{K(r.result)},r.readAsDataURL(t),B(!0),p(0);const o=setInterval(()=>{p(d=>d>=100?(clearInterval(o),B(!1),l("kad_pengenalan",t),100):d+10)},100)},te=()=>{l("kad_pengenalan",null),K(null),p(0)},le=a=>{const r=a.target.value.replace(/\D/g,"");if(r.length>12)return;if(l("no_ic",r),N.current&&clearTimeout(N.current),r.length>=3?N.current=setTimeout(()=>{c.get(route("api.voter.suggest-ic"),{params:{ic:r}}).then(I=>{u(I.data||[]),m((I.data||[]).length>0)}).catch(()=>u([]))},300):(u([]),m(!1)),r.length<6){l("umur","");return}const o=r.substring(0,2),d=r.substring(2,4),ce=r.substring(4,6),ue=parseInt(o)<=25?2e3+parseInt(o):1900+parseInt(o),w=new Date(ue,parseInt(d)-1,parseInt(ce)),P=new Date;let x=P.getFullYear()-w.getFullYear();const A=P.getMonth()-w.getMonth();(A<0||A===0&&P.getDate()<w.getDate())&&x--,x>=0&&x<=150&&l("umur",x.toString())},re=a=>{const r=a.target.value.replace(/\D/g,"");l("no_tel",r)},T=(a,t)=>{l(a,t.toUpperCase())};i.useEffect(()=>{(async()=>{if(s.poskod.length===5)try{const t=await c.get(route("api.postcodes.search-details"),{params:{query:s.poskod}});if(t.data&&t.data.length>0){const r=t.data[0];l({...s,negeri:r.negeri_nama||"",bandar:r.city||"",parlimen:r.bandar_nama||""})}}catch(t){console.error("Error fetching postcode details:",t)}})()},[s.poskod]),i.useEffect(()=>{const a=t=>{v.current&&!v.current.contains(t.target)&&m(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const _=a=>a?a.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):"",ie=a=>{l({...s,no_ic:a.no_ic,nama:a.nama||s.nama,lokaliti:a.lokaliti||s.lokaliti,daerah_mengundi:a.daerah_mengundi||s.daerah_mengundi,kadun:a.kadun?_(a.kadun):s.kadun,parlimen:a.parlimen?_(a.parlimen):s.parlimen,negeri:a.negeri?_(a.negeri):s.negeri,bangsa:a.bangsa||s.bangsa}),m(!1),u([])},oe=a=>{const t=a.target.value.replace(/\D/g,"");t.length<=5&&l("poskod",t)},y=(a,t)=>{const r=s[a]||[],o=r.includes(t)?r.filter(d=>d!==t):[...r,t];l(a,o)},de=a=>{a.preventDefault(),se(route("reports.hasil-culaan.store"))};return e.jsxs(he,{children:[e.jsx(xe,{title:"Borang Culaan"}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(be,{className:"h-5 w-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Borang Culaan"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Isi semua maklumat yang diperlukan"})]})]}),e.jsxs("form",{onSubmit:de,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Peribadi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Nama ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.nama,onChange:a=>T("nama",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400 uppercase",required:!0}),n.nama&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.nama})]}),e.jsxs("div",{ref:v,className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["No. IC ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.no_ic,onChange:le,placeholder:"900101145678",maxLength:"12",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),n.no_ic&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.no_ic}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Hanya angka sahaja (contoh: 900101145678)"}),ae&&L.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:L.map(a=>e.jsxs("button",{type:"button",onClick:()=>ie(a),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-0",children:[e.jsx("span",{className:"font-mono text-sm font-medium text-slate-900",children:a.no_ic}),e.jsx("span",{className:"ml-2 text-sm text-slate-500",children:a.nama})]},a.no_ic))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Umur ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"number",value:s.umur,onChange:a=>l("umur",a.target.value),min:"1",max:"150",readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400 bg-slate-50",required:!0}),n.umur&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.umur}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Dikira automatik dari No. IC"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["No. Telefon ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"tel",value:s.no_tel,onChange:re,placeholder:"0123456789",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),n.no_tel&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.no_tel}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Hanya angka sahaja"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Bangsa ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.bangsa,onChange:a=>l("bangsa",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Bangsa"}),q.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.bangsa&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.bangsa})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Alamat"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Alamat ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("textarea",{value:s.alamat,onChange:a=>T("alamat",a.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400 uppercase",required:!0}),n.alamat&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.alamat})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Poskod ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.poskod,onChange:oe,placeholder:"00000",maxLength:"5",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),n.poskod&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.poskod})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Negeri ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.negeri,onChange:a=>l("negeri",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Negeri"}),R.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.negeri&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.negeri})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Bandar ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.bandar,readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400 bg-slate-50",placeholder:"Pilih Poskod terlebih dahulu"}),n.bandar&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.bandar})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Parlimen ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.parlimen,onChange:a=>l("parlimen",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:Z?"Memuat...":"Pilih Parlimen"}),Y.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.parlimen&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.parlimen})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["KADUN ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.kadun,onChange:a=>l("kadun",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:X?"Memuat...":"Pilih KADUN"}),V.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.kadun&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.kadun})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["MPKK ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.mpkk,onChange:a=>l("mpkk",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:ee?"Memuat...":"Pilih MPKK"}),$.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.mpkk&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.mpkk})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Daerah Mengundi ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.daerah_mengundi,onChange:a=>l("daerah_mengundi",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:Q?"Memuat...":"Pilih Daerah Mengundi"}),s.daerah_mengundi&&!E.some(a=>a.nama===s.daerah_mengundi)&&e.jsx("option",{value:s.daerah_mengundi,children:s.daerah_mengundi}),E.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.daerah_mengundi&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.daerah_mengundi})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Lokaliti"}),e.jsxs("select",{value:s.lokaliti,onChange:a=>l("lokaliti",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Lokaliti"}),s.lokaliti&&!(h||[]).some(a=>a.nama===s.lokaliti)&&e.jsx("option",{value:s.lokaliti,children:s.lokaliti}),h&&h.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.lokaliti&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.lokaliti})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Isi Rumah"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Bilangan Isi Rumah ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"number",value:s.bil_isi_rumah,onChange:a=>l("bil_isi_rumah",a.target.value),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0}),n.bil_isi_rumah&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.bil_isi_rumah})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pendapatan Isi Rumah (RM)"}),e.jsx("input",{type:"number",value:s.pendapatan_isi_rumah,onChange:a=>l("pendapatan_isi_rumah",a.target.value),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),n.pendapatan_isi_rumah&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.pendapatan_isi_rumah})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Pekerjaan ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.pekerjaan,onChange:a=>l("pekerjaan",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Sektor"}),e.jsx("option",{value:"Penjawat Awam",children:"Penjawat Awam"}),e.jsx("option",{value:"Swasta",children:"Swasta"})]}),n.pekerjaan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.pekerjaan})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Jenis Pekerjaan ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.jenis_pekerjaan,onChange:a=>l("jenis_pekerjaan",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Jenis Pekerjaan"}),e.jsx("option",{value:"Bekerja Sendiri / Usahawan / Peniaga",children:"Bekerja Sendiri / Usahawan / Peniaga"}),e.jsx("option",{value:"Petani",children:"Petani"}),e.jsx("option",{value:"Nelayan",children:"Nelayan"}),e.jsx("option",{value:"Penternak",children:"Penternak"}),e.jsx("option",{value:"Pekerja Am / Buruh",children:"Pekerja Am / Buruh"}),e.jsx("option",{value:"Pekerja Kontrak / Sambilan / Gig",children:"Pekerja Kontrak / Sambilan / Gig"}),e.jsx("option",{value:"Pesara",children:"Pesara"}),e.jsx("option",{value:"Tidak Bekerja / Menganggur",children:"Tidak Bekerja / Menganggur"}),e.jsx("option",{value:"Suri Rumah",children:"Suri Rumah"}),e.jsx("option",{value:"Pelajar",children:"Pelajar"}),e.jsx("option",{value:"Lain-lain",children:"Lain-lain (nyatakan)"})]}),n.jenis_pekerjaan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.jenis_pekerjaan})]}),s.jenis_pekerjaan==="Lain-lain"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Jenis Pekerjaan (Lain-lain) ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.jenis_pekerjaan_lain,onChange:a=>l("jenis_pekerjaan_lain",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",placeholder:"Sila nyatakan jenis pekerjaan"}),n.jenis_pekerjaan_lain&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.jenis_pekerjaan_lain})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Pemilik Rumah ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.pemilik_rumah,onChange:a=>l("pemilik_rumah",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Status"}),e.jsx("option",{value:"Sendiri",children:"Sendiri"}),e.jsx("option",{value:"Sewa",children:"Sewa"}),e.jsx("option",{value:"Keluarga",children:"Keluarga"}),e.jsx("option",{value:"Lain-lain",children:"Lain-lain"})]}),n.pemilik_rumah&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.pemilik_rumah})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Maklumat Bantuan & Politik"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Jenis Sumbangan"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:J.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.jenis_sumbangan.includes(a.nama),onChange:()=>y("jenis_sumbangan",a.nama),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:a.nama})]},a.id))}),s.jenis_sumbangan.some(a=>a.toLowerCase().includes("lain"))&&e.jsx("input",{type:"text",value:s.jenis_sumbangan_lain,onChange:a=>l("jenis_sumbangan_lain",a.target.value),placeholder:"Nyatakan jenis sumbangan lain",className:"mt-2 w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),s.jenis_sumbangan.some(a=>a==="Wang Tunai")&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Jumlah Bantuan (RM)"}),e.jsx("input",{type:"number",value:s.jumlah_wang_tunai,onChange:a=>l("jumlah_wang_tunai",a.target.value),min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),n.jumlah_wang_tunai&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.jumlah_wang_tunai})]}),n.jenis_sumbangan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.jenis_sumbangan})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tujuan Sumbangan"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:W.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.tujuan_sumbangan.includes(a.nama),onChange:()=>y("tujuan_sumbangan",a.nama),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:a.nama})]},a.id))}),s.tujuan_sumbangan.some(a=>a.toLowerCase().includes("lain"))&&e.jsx("input",{type:"text",value:s.tujuan_sumbangan_lain,onChange:a=>l("tujuan_sumbangan_lain",a.target.value),placeholder:"Nyatakan tujuan sumbangan lain",className:"mt-2 w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),n.tujuan_sumbangan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.tujuan_sumbangan})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bantuan Lain"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:z.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.bantuan_lain.includes(a.nama),onChange:()=>y("bantuan_lain",a.nama),className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:a.nama})]},a.id))}),s.bantuan_lain.some(a=>a.toLowerCase().includes("lain"))&&e.jsx("input",{type:"text",value:s.bantuan_lain_lain,onChange:a=>l("bantuan_lain_lain",a.target.value),placeholder:"Nyatakan bantuan lain",className:"mt-2 w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),s.bantuan_lain.some(a=>a.includes("ZAKAT PULAU PINANG"))&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Jenis Bantuan ZPP ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.zpp_jenis_bantuan,onChange:a=>l("zpp_jenis_bantuan",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Jenis Bantuan ZPP"}),e.jsx("option",{value:"Bantuan kewangan asnaf",children:"Bantuan kewangan asnaf"}),e.jsx("option",{value:"Bantuan makanan / sara hidup",children:"Bantuan makanan / sara hidup"}),e.jsx("option",{value:"Bantuan perubatan",children:"Bantuan perubatan"}),e.jsx("option",{value:"Bantuan pendidikan",children:"Bantuan pendidikan"}),e.jsx("option",{value:"Bantuan perumahan",children:"Bantuan perumahan"}),e.jsx("option",{value:"Modal perniagaan asnaf",children:"Modal perniagaan asnaf"})]}),n.zpp_jenis_bantuan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.zpp_jenis_bantuan})]}),s.bantuan_lain.some(a=>a==="i-Sejahtera")&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Program i-Sejahtera ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.isejahtera_program,onChange:a=>l("isejahtera_program",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Program i-Sejahtera"}),e.jsx("option",{value:"Program Penghargaan Warga Emas",children:"Program Penghargaan Warga Emas"}),e.jsx("option",{value:"Program Bantuan Ibu Tunggal",children:"Program Bantuan Ibu Tunggal"}),e.jsx("option",{value:"Program Bantuan Orang Kurang Upaya (OKU)",children:"Program Bantuan Orang Kurang Upaya (OKU)"}),e.jsx("option",{value:"Program Suri Emas / Surirumah Emas",children:"Program Suri Emas / Surirumah Emas"})]}),n.isejahtera_program&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.isejahtera_program})]}),s.bantuan_lain.some(a=>a==="Bantuan Kewangan Bulanan")&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Program Bantuan Kewangan Bulanan ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("select",{value:s.bkb_program,onChange:a=>l("bkb_program",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Program"}),e.jsx("option",{value:"Bantuan Kanak-Kanak (BKK)",children:"Bantuan Kanak-Kanak (BKK)"}),e.jsx("option",{value:"Bantuan Warga Emas (BWE)",children:"Bantuan Warga Emas (BWE)"}),e.jsx("option",{value:"Elaun Pekerja Orang Kurang Upaya (EPOKU)",children:"Elaun Pekerja Orang Kurang Upaya (EPOKU)"}),e.jsx("option",{value:"Bantuan OKU Tidak Berupaya Bekerja (BTB)",children:"Bantuan OKU Tidak Berupaya Bekerja (BTB)"}),e.jsx("option",{value:"Bantuan Penjagaan OKU / Pesakit Terlantar (BPT)",children:"Bantuan Penjagaan OKU / Pesakit Terlantar (BPT)"}),e.jsx("option",{value:"Bantuan Am Persekutuan (BA)",children:"Bantuan Am Persekutuan (BA)"})]}),n.bkb_program&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.bkb_program})]}),s.bantuan_lain.some(a=>a==="Bantuan Kewangan / Tunai")&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Jumlah Bantuan (RM)"}),e.jsx("input",{type:"number",value:s.jumlah_bantuan_tunai,onChange:a=>l("jumlah_bantuan_tunai",a.target.value),min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),n.jumlah_bantuan_tunai&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.jumlah_bantuan_tunai})]}),n.bantuan_lain&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.bantuan_lain})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Keahlian Parti"}),e.jsxs("select",{value:s.keahlian_parti,onChange:a=>l("keahlian_parti",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Keahlian Parti"}),F.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.keahlian_parti&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.keahlian_parti})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Kecenderungan Politik"}),e.jsxs("select",{value:s.kecenderungan_politik,onChange:a=>l("kecenderungan_politik",a.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400",children:[e.jsx("option",{value:"",children:"Pilih Kecenderungan Politik"}),G.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]}),n.kecenderungan_politik&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.kecenderungan_politik})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Dokumen & Nota"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Kad Pengenalan"}),C?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-full h-48 bg-slate-100 rounded-lg overflow-hidden",children:[e.jsx("img",{src:C,alt:"Preview Kad Pengenalan",className:"w-full h-full object-contain",onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/600x400?text=Imej+Tidak+Dijumpai",a.target.className="w-full h-full object-contain opacity-50"}}),g&&e.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center",children:[e.jsx(je,{className:"h-8 w-8 text-white animate-spin mb-2"}),e.jsxs("span",{className:"text-white text-sm font-medium",children:[H,"%"]})]})]}),!g&&e.jsx("button",{type:"button",onClick:te,className:"absolute top-2 right-2 p-1.5 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-colors",children:e.jsx(ge,{className:"h-4 w-4"})}),s.kad_pengenalan&&e.jsxs("p",{className:"text-sm text-slate-600 mt-2 flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),s.kad_pengenalan.name]})]}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:"hidden",id:"kad-pengenalan-upload",disabled:g}),e.jsxs("label",{htmlFor:"kad-pengenalan-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-slate-400 hover:bg-slate-50 transition-colors",children:[e.jsx(pe,{className:"h-8 w-8 text-slate-400 mb-2"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Klik untuk muat naik imej"}),e.jsx("span",{className:"text-xs text-slate-500 mt-1",children:"PNG, JPG, JPEG (Maks. 5MB)"})]})]}),n.kad_pengenalan&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.kad_pengenalan})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nota"}),e.jsx("textarea",{value:s.nota,onChange:a=>l("nota",a.target.value),rows:"4",placeholder:"Catatan tambahan...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-400 focus:border-slate-400"}),n.nota&&e.jsx("p",{className:"text-sm text-rose-600 mt-1",children:n.nota})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pb-6",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Batal"}),e.jsx("button",{type:"submit",disabled:O,className:"px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:O?"Menyimpan...":"Simpan"})]})]})]})]})}export{Se as default};
